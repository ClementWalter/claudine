# Learning: UserPromptSubmit Hook Field Name

## DO

- Use `prompt` field (not `user_prompt`) when reading user input in
  UserPromptSubmit hooks
- Use `uv run --python 3.12` with PEP 723 metadata for modern Python features
- Use `systemMessage` field in hook JSON output (correct format per docs)
- Check official Claude Code docs at https://code.claude.com/docs/en/hooks.md
  for field names

## DON'T

- Don't assume field names - always verify against official documentation
- Don't use `user_prompt` - it's `prompt` for UserPromptSubmit hooks
- Don't use deprecated `hookSpecificOutput.additionalContext` - use
  `systemMessage`

## Context

Built a two-hook system for automatic learning summaries after skill usage.
Discovered that the UserPromptSubmit hook input uses `prompt` field, not
`user_prompt`. The official docs clearly show the correct schema. Hook works
when tested manually but may not be invoked by Claude Code from global
settings.json - needs further investigation.
